!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.MaskedInput=t()}}(function(){return function t(e,s,r){function n(o,u){if(!s[o]){if(!e[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var h=s[o]={exports:{}};e[o][0].call(h.exports,function(t){var s=e[o][1][t];return n(s?s:t)},h,h.exports,t,e,s,r)}return s[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}({1:[function(t,e){var s,r;r=("undefined"!=typeof window&&null!==window?window.React:void 0)||t("react"),s=r.createClass({displayName:"MaskedInput",propTypes:{mask:r.PropTypes.string,format:r.PropTypes.string,onChange:r.PropTypes.func,onKeyDown:r.PropTypes.func,onKeyPress:r.PropTypes.func,onComplete:r.PropTypes.func},getDefaultProps:function(){return{format:"_"}},getInitialState:function(){var t,e;return null==this.props.mask?null:(this.buffer=function(){var s,r,n,i;for(n=this.props.mask.split(""),i=[],e=s=0,r=n.length;r>s;e=++s)t=n[e],this.translations[t]?(null==this.firstNonMaskIdx&&(this.firstNonMaskIdx=e),i.push(this.getFormat(e))):i.push(t);return i}.call(this),this.cursorPos=this.firstNonMaskIdx,{value:this.buffer.join("")})},componentDidUpdate:function(){return null!=this.cursorPos?this.setCursorPos(this.cursorPos):void 0},translations:{9:/\d/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},getCursorPos:function(){var t,e,s,r;return s=this.getDOMNode(),null!=s.setSelectionRange?(t=s.selectionStart,e=s.selectionEnd):(r=document.selection.createRange(),t=0-r.duplicate().moveStart("character",-1e5),e=t+r.text.length),{begin:t,end:e}},setCursorPos:function(t,e){var s,r;return null==e&&(e=t),s=this.getDOMNode(),null!=s.setSelectionRange?s.setSelectionRange(t,e):(r=s.createTextRange(),r.collapse(!0),r.moveEnd("character",t),r.moveStart("character",e),r.select())},getPattern:function(t){return this.translations[this.props.mask[t]]},getFormat:function(t){return t=t<this.props.format.length?t:0,this.props.format[t]},clearBuffer:function(t,e){var s,r;for(s=r=t;e>=t?e>r:r>e;s=e>=t?++r:--r)null!=this.getPattern(s)&&(this.buffer[s]=this.getFormat(s));return!0},seekNext:function(t){for(;++t<this.props.mask.length&&null==this.getPattern(t););return t},seekPrev:function(t){for(;--t>=0&&null==this.getPattern(t););return t},shiftLeft:function(t,e){var s,r,n,i,o;if(this.clearBuffer(t,e),!(0>t)){for(r=this.seekNext(e-1),s=i=t,o=this.props.mask.length;o>=t?o>i:i>o;s=o>=t?++i:--i)if(n=this.getPattern(s),null!=n){if(!(r<this.props.mask.length&&n.test(this.buffer[r])))break;this.buffer[s]=this.buffer[r],this.buffer[r]=this.getFormat(r),r=this.seekNext(r)}return this.cursorPos=Math.max(t,this.firstNonMaskIdx)}},shiftRight:function(t){var e,s,r,n,i,o,u;for(e=this.getFormat(t),s=o=t,u=this.props.mask.length;u>=t?u>o:o>u;s=u>=t?++o:--o)if(n=this.getPattern(s),null!=n){if(r=this.seekNext(s),i=this.buffer[s],this.buffer[s]=e,!(r<this.props.mask.length&&n.test(i)))break;e=i}return!0},fireOnComplete:function(t){var e,s,r;if(null!=this.props.onComplete){for(e=s=0,r=this.props.mask.length;r>=0?r>s:s>r;e=r>=0?++s:--s)if(null!=this.getPattern(e)&&this.buffer[e]===this.getFormat(e))return;return this.props.onComplete(t)}},setValue:function(t){var e;return"function"==typeof(e=this.props).onChange&&e.onChange({target:{value:t}}),this.setState({value:t}),t},handleFocus:function(t){var e;return setTimeout(function(t){return function(){return t.setCursorPos(t.cursorPos)}}(this),0),"function"==typeof(e=this.props).onFocus?e.onFocus(t):void 0},handleKeyDown:function(t){var e,s,r,n;return("Backspace"===t.key||"Delete"===t.key)&&(n=this.getCursorPos(),e=n.begin,s=n.end,e===s&&("Delete"===t.key?(e=this.seekNext(e-1),s=this.seekNext(e)):e=this.seekPrev(e)),this.shiftLeft(e,s),this.setValue(this.buffer.join("")),t.preventDefault()),"function"==typeof(r=this.props).onKeyDown?r.onKeyDown(t):void 0},handleKeyPress:function(t){var e,s,r,n,i,o,u;return 1===t.key.length&&(u=this.getCursorPos(),e=u.begin,r=u.end,this.cursorPos=e,s=!1,e!==r&&(this.shiftLeft(e,r),s=!0),n=this.seekNext(this.cursorPos-1),n<this.props.mask.length&&this.getPattern(n).test(t.key)?(this.shiftRight(n),this.buffer[n]=t.key,this.cursorPos=this.seekNext(n),i=this.setValue(this.buffer.join("")),this.fireOnComplete(i)):s&&this.setValue(this.buffer.join("")),t.preventDefault()),"function"==typeof(o=this.props).onKeyPress?o.onKeyPress(t):void 0},handleChange:function(t){var e;return e=this.maskedValue(t.target.value),this.setValue(e),this.fireOnComplete(e)},maskedValue:function(t){var e,s,r,n,i,o;for(n=0,s=i=0,o=this.props.mask.length;o>=0?o>i:i>o;s=o>=0?++i:--i)if(r=this.getPattern(s),null!=r){for(this.buffer[s]=this.getFormat(s);n++<t.length;)if(e=t[n-1],r.test(e)){this.buffer[s]=e;break}if(n>t.length){this.clearBuffer(s+1,this.props.mask.length);break}}else this.buffer[s]===t[n]&&n++;return this.cursorPos=s,this.buffer.join("")},render:function(){var t;return t={},null!=this.props.mask&&(t.onChange=this.handleChange,t.onKeyPress=this.handleKeyPress,t.onKeyDown=this.handleKeyDown,t.onFocus=this.handleFocus,t.value=null!=this.props.value&&this.props.value!==this.state.value?this.maskedValue(this.props.value):this.state.value),r.createElement("input",r.__spread({},this.props,t))}}),e.exports=s},{react:"react"}]},{},[1])(1)});