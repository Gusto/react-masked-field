!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.MaskedInput=e()}}(function(){return function e(t,s,n){function r(o,a){if(!s[o]){if(!t[o]){var u="function"==typeof require&&require;if(!a&&u)return u(o,!0);if(i)return i(o,!0);var h=new Error("Cannot find module '"+o+"'");throw h.code="MODULE_NOT_FOUND",h}var f=s[o]={exports:{}};t[o][0].call(f.exports,function(e){var s=t[o][1][e];return r(s?s:e)},f,f.exports,e,t,s,n)}return s[o].exports}for(var i="function"==typeof require&&require,o=0;o<n.length;o++)r(n[o]);return r}({1:[function(e,t,s){var n,r;r=("undefined"!=typeof window&&null!==window?window.React:void 0)||e("react"),n=r.createClass({displayName:"MaskedInput",propTypes:{mask:r.PropTypes.string,format:r.PropTypes.string,onChange:r.PropTypes.func,onKeyDown:r.PropTypes.func,onKeyPress:r.PropTypes.func,onComplete:r.PropTypes.func},getDefaultProps:function(){return{format:"_"}},getInitialState:function(){var e,t;return null==this.props.mask?null:(this._buffer=function(){var s,n,r,i;for(r=this.props.mask,i=[],t=s=0,n=r.length;n>s;t=++s)e=r[t],this._getPattern(t)?(null==this._firstNonMaskIdx&&(this._firstNonMaskIdx=t),i.push(this._getFormatChar(t))):i.push(e);return i}.call(this),this._cursorPos=this._firstNonMaskIdx,{value:this._buffer.join("")})},componentDidUpdate:function(){return null!=this._cursorPos?this._setSelection(this._cursorPos):void 0},render:function(){var e;return e={},null!=this.props.mask&&(e.onChange=this._handleChange,e.onKeyPress=this._handleKeyPress,e.onKeyDown=this._handleKeyDown,e.onFocus=this._handleFocus,e.value=null!=this.props.value&&this.props.value!==this.state.value?this._maskedValue(this.props.value):this.state.value),r.createElement("input",r.__spread({},this.props,e))},_translations:{9:/\d/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},_getSelection:function(){var e,t,s,n;return s=this.getDOMNode(),null!=s.setSelectionRange?(e=s.selectionStart,t=s.selectionEnd):(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t}},_setSelection:function(e,t){var s,n;return null==t&&(t=e),s=this.getDOMNode(),null!=s.setSelectionRange?s.setSelectionRange(e,t):(n=s.createTextRange(),n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",t),n.select())},_getPattern:function(e){return this._translations[this.props.mask[e]]},_getFormatChar:function(e){return e=e<this.props.format.length?e:0,this.props.format[e]},_resetBuffer:function(e,t){var s,n;for(s=n=e;t>=e?t>n:n>t;s=t>=e?++n:--n)null!=this._getPattern(s)&&(this._buffer[s]=this._getFormatChar(s));return!0},_seekNext:function(e){for(;++e<this.props.mask.length&&null==this._getPattern(e););return e},_seekPrev:function(e){for(;--e>=0&&null==this._getPattern(e););return e},_shiftLeft:function(e,t){var s,n,r,i,o;if(this._resetBuffer(e,t),!(0>e)){for(n=this._seekNext(t-1),s=i=e,o=this.props.mask.length;o>=e?o>i:i>o;s=o>=e?++i:--i)if(r=this._getPattern(s),null!=r){if(!(n<this.props.mask.length&&r.test(this._buffer[n])))break;this._buffer[s]=this._buffer[n],this._buffer[n]=this._getFormatChar(n),n=this._seekNext(n)}return this._cursorPos=Math.max(e,this._firstNonMaskIdx)}},_shiftRight:function(e){var t,s,n,r,i,o,a;for(t=this._getFormatChar(e),s=o=e,a=this.props.mask.length;a>=e?a>o:o>a;s=a>=e?++o:--o)if(r=this._getPattern(s),null!=r){if(n=this._seekNext(s),i=this._buffer[s],this._buffer[s]=t,!(n<this.props.mask.length&&r.test(i)))break;t=i}return!0},_callOnComplete:function(e){var t,s,n;if(null!=this.props.onComplete){for(t=s=0,n=this.props.mask.length;n>=0?n>s:s>n;t=n>=0?++s:--s)if(null!=this._getPattern(t)&&this._buffer[t]===this._getFormatChar(t))return;return this.props.onComplete(e)}},_setValue:function(e){var t;return"function"==typeof(t=this.props).onChange&&t.onChange({target:{value:e}}),this.setState({value:e}),e},_handleFocus:function(e){var t;return setTimeout(function(e){return function(){return e._setSelection(e._cursorPos)}}(this),0),"function"==typeof(t=this.props).onFocus?t.onFocus(e):void 0},_handleKeyDown:function(e){var t,s,n,r;return("Backspace"===e.key||"Delete"===e.key)&&(r=this._getSelection(),t=r.begin,s=r.end,t===s&&("Delete"===e.key?(t=this._seekNext(t-1),s=this._seekNext(t)):t=this._seekPrev(t)),this._shiftLeft(t,s),this._setValue(this._buffer.join("")),e.preventDefault()),"function"==typeof(n=this.props).onKeyDown?n.onKeyDown(e):void 0},_handleKeyPress:function(e){var t,s,n,r,i,o,a;return 1===e.key.length&&(a=this._getSelection(),t=a.begin,n=a.end,this._cursorPos=t,s=!1,t!==n&&(this._shiftLeft(t,n),s=!0),r=this._seekNext(this._cursorPos-1),r<this.props.mask.length&&this._getPattern(r).test(e.key)?(this._shiftRight(r),this._buffer[r]=e.key,this._cursorPos=this._seekNext(r),i=this._setValue(this._buffer.join("")),this._callOnComplete(i)):s&&this._setValue(this._buffer.join("")),e.preventDefault()),"function"==typeof(o=this.props).onKeyPress?o.onKeyPress(e):void 0},_handleChange:function(e){var t;return t=this._maskedValue(e.target.value),this._setValue(t),this._callOnComplete(t)},_maskedValue:function(e){var t,s,n,r,i,o;for(r=0,s=i=0,o=this.props.mask.length;o>=0?o>i:i>o;s=o>=0?++i:--i)if(n=this._getPattern(s),null!=n){for(this._buffer[s]=this._getFormatChar(s);r++<e.length;)if(t=e[r-1],n.test(t)){this._buffer[s]=t;break}if(r>e.length){this._resetBuffer(s+1,this.props.mask.length);break}}else this._buffer[s]===e[r]&&r++;return this._cursorPos=s,this._buffer.join("")}}),t.exports=n},{react:"react"}]},{},[1])(1)});